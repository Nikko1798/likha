import{_ as Oe}from"./PersonalInformation.vue_vue_type_script_setup_true_lang-gzfNeAUl.js";import{_ as ke}from"./FamilyBackground.vue_vue_type_script_setup_true_lang-DQOivL-H.js";import{_ as Ve}from"./NonFormalEducation.vue_vue_type_script_setup_true_lang-h0K8RZg6.js";import{_ as xe}from"./ArtisanCrafts.vue_vue_type_script_setup_true_lang-DQwvAa-e.js";import{_ as Ze}from"./FormalEducation.vue_vue_type_script_setup_true_lang-D7KVGGxt.js";import Ce from"./DataPrivacy-BWjBmZCi.js";import{_ as je}from"./otherArt.vue_vue_type_script_setup_true_lang-B9m2hGLp.js";import{a as k,o as v,b as u,h as x,W as Ie,r as O,i as C,j as Le,t as b,k as De,e as Te,u as s,F as ye,l as ze,n as Re,m as w,p as qe,q as B,f as I,s as U}from"./app-BZBrzorh.js";import{s as F,g as E,w as N}from"./ToastHelper-CfDVmKRe.js";import{L as He}from"./Loader-D3mqFSdS.js";import"./flowbite-vue-CSVjqJgn.js";import"./addressHelpers-BtT_H-Rl.js";import"./dropdownHelper-C8dq6a8c.js";import"./CameraForProduct.vue_vue_type_script_setup_true_lang-CeLtcC-J.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function be(e,r){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{d:"M11.7 2.805a.75.75 0 0 1 .6 0A60.65 60.65 0 0 1 22.83 8.72a.75.75 0 0 1-.231 1.337 49.948 49.948 0 0 0-9.902 3.912l-.003.002c-.114.06-.227.119-.34.18a.75.75 0 0 1-.707 0A50.88 50.88 0 0 0 7.5 12.173v-.224c0-.131.067-.248.172-.311a54.615 54.615 0 0 1 4.653-2.52.75.75 0 0 0-.65-1.352 56.123 56.123 0 0 0-4.78 2.589 1.858 1.858 0 0 0-.859 1.228 49.803 49.803 0 0 0-4.634-1.527.75.75 0 0 1-.231-1.337A60.653 60.653 0 0 1 11.7 2.805Z"}),u("path",{d:"M13.06 15.473a48.45 48.45 0 0 1 7.666-3.282c.134 1.414.22 2.843.255 4.284a.75.75 0 0 1-.46.711 47.87 47.87 0 0 0-8.105 4.342.75.75 0 0 1-.832 0 47.87 47.87 0 0 0-8.104-4.342.75.75 0 0 1-.461-.71c.035-1.442.121-2.87.255-4.286.921.304 1.83.634 2.726.99v1.27a1.5 1.5 0 0 0-.14 2.508c-.09.38-.222.753-.397 1.11.452.213.901.434 1.346.66a6.727 6.727 0 0 0 .551-1.607 1.5 1.5 0 0 0 .14-2.67v-.645a48.549 48.549 0 0 1 3.44 1.667 2.25 2.25 0 0 0 2.12 0Z"}),u("path",{d:"M4.462 19.462c.42-.419.753-.89 1-1.395.453.214.902.435 1.347.662a6.742 6.742 0 0 1-1.286 1.794.75.75 0 0 1-1.06-1.06Z"})])}function Ke(e,r){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),u("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"})])}function We(e,r){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"fill-rule":"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z","clip-rule":"evenodd"})])}function Se(e,r){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"fill-rule":"evenodd",d:"M20.599 1.5c-.376 0-.743.111-1.055.32l-5.08 3.385a18.747 18.747 0 0 0-3.471 2.987 10.04 10.04 0 0 1 4.815 4.815 18.748 18.748 0 0 0 2.987-3.472l3.386-5.079A1.902 1.902 0 0 0 20.599 1.5Zm-8.3 14.025a18.76 18.76 0 0 0 1.896-1.207 8.026 8.026 0 0 0-4.513-4.513A18.75 18.75 0 0 0 8.475 11.7l-.278.5a5.26 5.26 0 0 1 3.601 3.602l.502-.278ZM6.75 13.5A3.75 3.75 0 0 0 3 17.25a1.5 1.5 0 0 1-1.601 1.497.75.75 0 0 0-.7 1.123 5.25 5.25 0 0 0 9.8-2.62 3.75 3.75 0 0 0-3.75-3.75Z","clip-rule":"evenodd"})])}function Xe(e,r){return v(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z","clip-rule":"evenodd"})])}var we;x.defaults.headers.common["X-CSRF-TOKEN"]=(we=document.querySelector('meta[name="csrf-token"]'))==null?void 0:we.getAttribute("content");const Ge=(e,r)=>r?Ye(e,r.id):Qe(e),Qe=e=>x.post(route("form.step_one"),e).then(r=>(F("Step one details inserted successfully"),Ie.visit(route("form.draft",{uuid:r.data.data})),r.data)).catch(r=>{console.log(r);let t=E(r.response.data.errors);return N(t),r}),Ye=(e,r)=>x.post(route("form.updatePersonalInfo",{id:r}),e).then(t=>(F("Step one details updated successfully"),t.data)).catch(t=>{console.log(t);let n=E(t.response.data.errors);return N(n),t}),et=(e,r)=>x.post(route("form.insertOrUpdateFamilybackground",{id:r}),e).then(t=>(F("Step two details inserted successfully"),t.data)).catch(t=>{console.log(t);let n=E(t.response.data.errors);return N(n),t}),tt=(e,r)=>x.post(route("form.createOrUpdateFormalEducation",{id:r}),e).then(t=>(F("Step three details inserted successfully"),t.data)).catch(t=>{console.log(t);let n=E(t.response.data.errors);return N(n),t}),at=(e,r)=>x.post(route("form.createOrUpdateNonFormalEducation",{id:r}),e).then(t=>(F("Step four details inserted successfully"),t.data)).catch(t=>{console.log(t);let n=E(t.response.data.errors);return N(n),t}),rt=(e,r)=>{const t=new FormData;for(const n in e){const i=e[n];(i instanceof File||i instanceof Blob||i!=null)&&t.append(n,i)}return console.log(t),x.post(route("form.createOrUpdateArtisan",{id:r}),t).then(n=>(F("Step five details inserted successfully"),n.data)).catch(n=>{console.log(n);let i=E(n.response.data.errors);return N(i),n})},nt=(e,r)=>{const t=new FormData;return e.forEach((n,i)=>{for(const p in n){const d=n[p],f=`${i}[${p}]`;(d instanceof File||d instanceof Blob||d!=null)&&t.append(f,d)}}),x.post(route("form.createOrUpdateOtherArts",{id:r}),t).then(n=>(F("Step three details inserted successfully"),Ie.visit(route("form.thankyouPage",{uuid:n.data.uuid})),n.data)).catch(n=>{console.log(n);let i=E(n.response.data.errors);return N(i),n})};function ot(e){var Z,j,L,D,T,z,R,q,H,K,W,X,G,Q,Y,ee,te,ae,re,ne,oe,se,le,ie,ue,ce,de,me,fe,_e,ve,pe,ge,he;const r=O(!1),t=O(e.personalInfo?e.personalInfo.current_step:0),n=O([{name:"Data Privacy",component:Ce,icon:We,active:t.value==0,details:"Provide Personal information here"},{name:"Personal Info",component:Oe,icon:Xe,active:t.value==1,details:"Provide Personal information here"},{name:"Family background",component:ke,icon:Ke,active:t.value==2,details:"Provide family background here"},{name:"Formal Education",icon:be,active:t.value==3,details:"Provide educational information here"},{name:"Non-formal Education",icon:be,active:t.value==4,details:"Provide educational information here"},{name:"Artisan and Craft",component:xe,icon:Se,active:t.value==5,details:"Provide artisan and crafts information here"},{name:"Other Art",icon:Se,active:t.value==6,details:"Provide information about the artisan's other artworks here"}]),i=C({email:((Z=e.personalInfo)==null?void 0:Z.email)||"",first_name:((j=e.personalInfo)==null?void 0:j.first_name)||"",middle_name:((L=e.personalInfo)==null?void 0:L.middle_name)||"",last_name:((D=e.personalInfo)==null?void 0:D.last_name)||"",other_name:((T=e.personalInfo)==null?void 0:T.other_name)||"",gender:((z=e.personalInfo)==null?void 0:z.gender)||"",age_group:((R=e.personalInfo)==null?void 0:R.age_group)||"",place_of_birth:((q=e.personalInfo)==null?void 0:q.place_of_birth)||"",region:((H=e.personalInfo)==null?void 0:H.region)||"",province:((K=e.personalInfo)==null?void 0:K.province)||"",city_municipality:((W=e.personalInfo)==null?void 0:W.city_municipality)||"",barangay:((X=e.personalInfo)==null?void 0:X.barangay)||"",street:((G=e.personalInfo)==null?void 0:G.street)||""}),p=C({artisan_name:((Y=(Q=e.artisan)==null?void 0:Q.artisan_info)==null?void 0:Y.artisan_name)||"",indiginous_people_community:((te=(ee=e.artisan)==null?void 0:ee.artisan_info)==null?void 0:te.indegenous_people_community)||"",other_ipc:((re=(ae=e.artisan)==null?void 0:ae.artisan_info)==null?void 0:re.other_indegenous_people_community)||"",primary_art:((ne=e.primaryCraft)==null?void 0:ne.specialization_name)||"",product_name:((oe=e.primaryCraft)==null?void 0:oe.product_name)||"",product_material:((se=e.primaryCraft)==null?void 0:se.product_material)||"",associative_narrative_of_production:((le=e.primaryCraft)==null?void 0:le.associative_narrative_of_production)||"",product_making_process:((ie=e.primaryCraft)==null?void 0:ie.product_making_process)||"",product_making_process_file:null,product_image:null,product_color_pallete:((ue=e.primaryCraft)==null?void 0:ue.product_image_pallete)||"",vocabularies:((ce=e.primaryCraft)==null?void 0:ce.vocabularies)||"",vocabularies_file:null,region:((de=e.primaryCraft)==null?void 0:de.region)||"",province:((me=e.primaryCraft)==null?void 0:me.province)||"",city:((fe=e.primaryCraft)==null?void 0:fe.city_municipality)||"",barangay:((_e=e.primaryCraft)==null?void 0:_e.barangay)||"",sitio:((ve=e.primaryCraft)==null?void 0:ve.sitio)||"",other_specialization_name:((pe=e.primaryCraft)==null?void 0:pe.other_specialization_name)||"",other_product_material:((ge=e.primaryCraft)==null?void 0:ge.other_product_material)||"",other_associative_narrative_of_production:((he=e.primaryCraft)==null?void 0:he.other_associative_narrative_of_production)||""}),d=O([{transmission:"",other_transmission:"",mentor:"",ordinal_generation:"",place_of_mentoring:"",disableTransmission:!0}]),f=O([{education_level:"",course_or_study:"",school_name:"",years_attended:""}]),A=O([{art_or_craft_name:"",related_practices:"",product_making_process:"",product_making_process_file:null,region:"",province:"",city:"",barangay:"",sitio:"",other_specialization_name:"",other_associative_narrative_of_production:"",disableOtherSpecName:!0,disableOtherNarative:!0}]),h=O([{family_member_name:"",relation:""}]);let S=C([]),_=C([]),y=C([]),P=C({...p}),M=C({...i});const $=()=>{var a,m;(m=(a=e.family_background)==null?void 0:a.family_backgrounds)!=null&&m.length&&(h.value=e.family_background.family_backgrounds.map(o=>({family_member_name:o.name,relation:o.relation})),S=JSON.parse(JSON.stringify(h.value)),console.log(S))},V=()=>{e.formalEducation&&e.formalEducation.length>0&&(f.value=[],f.value=e.formalEducation.map(a=>({education_level:a.education_level||"",course_or_study:a.course_or_study||"",school_name:a.school_name||"",years_attended:a.years||""})),_=JSON.parse(JSON.stringify(f.value)))},c=()=>{e.NonformalEducation&&e.NonformalEducation.length>0&&(d.value=e.NonformalEducation.map(a=>({transmission:a.transmission||"",other_transmission:a.other_transmission||"",mentor:a.mentor||"",ordinal_generation:a.ordinal_generation||"",place_of_mentoring:a.place_of_mentoring||"",disableTransmission:!!a.other_transmission})),y=JSON.parse(JSON.stringify(d.value)))},l=()=>{Ge(b(i),e.personalInfo).then(a=>{a.status!="422"&&g(),r.value=!1})},J=()=>{et(b(h.value),e.personalInfo.id).then(a=>{a.status!="422"&&(S=JSON.parse(JSON.stringify(h.value)),g()),r.value=!1})},Fe=()=>{tt(b(f.value),e.personalInfo.id).then(a=>{a.status!="422"&&(_=JSON.parse(JSON.stringify(f.value)),console.log(JSON.parse(JSON.stringify(f.value))),g()),r.value=!1})},Ee=()=>{at(b(d.value),e.personalInfo.id).then(a=>{a.status!="422"&&(y=JSON.parse(JSON.stringify(d.value)),g()),r.value=!1})},Ne=()=>{rt(b(p),e.personalInfo.id).then(a=>{a.status!="422"&&(Object.assign(P,{...p}),g()),r.value=!1})},Ue=()=>{console.log(b(A.value)),nt(b(A.value),e.personalInfo.id).then(a=>{a.status!="422"&&g(),r.value=!1})},Ae=()=>!h.value||!S||h.value.length!==S.length?!0:h.value.some((a,m)=>{const o=S[m];return a.family_member_name!==(o==null?void 0:o.family_member_name)||a.relation!==(o==null?void 0:o.relation)}),Pe=()=>!f.value||!_||f.value.length!==_.length?!0:f.value.some((a,m)=>{const o=_[m];return a.education_level!==(o==null?void 0:o.education_level)||a.course_or_study!==(o==null?void 0:o.course_or_study)||a.school_name!==(o==null?void 0:o.school_name)||a.years_attended!==(o==null?void 0:o.years_attended)}),Me=()=>!d.value||!y||d.value.length!==y.length?!0:d.value.some((a,m)=>{const o=y[m];return a.transmission!==(o==null?void 0:o.transmission)||a.other_transmission!==(o==null?void 0:o.other_transmission)||a.mentor!==(o==null?void 0:o.mentor)||a.ordinal_generation!==(o==null?void 0:o.ordinal_generation)||a.place_of_mentoring!==(o==null?void 0:o.place_of_mentoring)}),$e=()=>{const a=b(M);for(const m in i)if(i[m]!==a[m])return console.log(`Changed: ${m}`),!0;return!1},Je=()=>{const a=b(P);for(const m in p)if(p[m]!==a[m])return console.log(`Changed: ${p[m]}`),console.log(`Changed2: ${a[m]}`),!0;return!1},Be=()=>{const m=Le().url;switch(r.value=!0,t.value){case 1:m.includes("likha/form/draft")?$e()?l():(g(),r.value=!1):l();break;case 2:Ae()?J():(g(),r.value=!1);break;case 3:Pe()?Fe():(g(),r.value=!1);break;case 4:Me()?Ee():(g(),r.value=!1);break;case 5:Je()?Ne():(g(),r.value=!1);break;case 6:Ue();break;default:g(),r.value=!1,console.log(h);break}},g=()=>{t.value<n.value.length-1&&(n.value[t.value].active=!1,t.value++,n.value[t.value].active=!0)};return{personalInfoForm:i,familyMembers:h,ArtisanCraftsInfo:p,nonFormalEducations:d,FormalEducations:f,artsOrCraft:A,activeStep:t,steps:n,submitStepOneForm:l,insertOrUpdateStepTwoForm:J,nextStep:Be,nextAction:g,prevStep:()=>{t.value>0&&(n.value[t.value].active=!1,t.value--,n.value[t.value].active=!0)},getMembers:$,getformalEducation:V,getNonformalEducation:c,isLoading:r}}const st={class:"flex flex-col md:flex-row md:items-start p-5 gap-2"},lt={class:"p-2"},it={class:"relative mt-4 w-auto min-w-max text-gray-500 border-l border-gray-300 dark:border-gray-700 dark:text-gray-400 hidden md:block pr-6"},ut={class:"font-small leading-tight"},ct={class:"w-full md:flex-1 p-4 bg-white shadow-md rounded-md h-screen flex flex-col"},dt={class:"mb-4"},mt={class:"text-lg font-semibold"},ft={class:"text-gray-600"},_t={class:"flex-1 overflow-y-auto"},vt={class:"mt-4 py-4 bg-white sticky bottom-0 left-0 w-full shadow-t flex justify-between"},pt=["disabled"],Pt={__name:"index",props:{personalInfo:Object,family_background:Object,formalEducation:Object,NonformalEducation:Object,artisan:Object,primaryCraft:Object},setup(e){const r=e;O(r.isLoading);const{personalInfoForm:t,familyMembers:n,ArtisanCraftsInfo:i,nonFormalEducations:p,FormalEducations:d,artsOrCraft:f,getMembers:A,getformalEducation:h,getNonformalEducation:S,activeStep:_,steps:y,isLoading:P,nextStep:M,prevStep:$}=ot(r);return De(()=>{S(),h(),A(),console.log(r.primaryCraft)}),(V,c)=>(v(),k(ye,null,[Te(He,{loading:s(P)},null,8,["loading"]),u("div",st,[u("div",lt,[c[8]||(c[8]=u("div",{class:"h-32 w-full bg-cover bg-center rounded-md",style:{"background-image":"url('/likha/images/LikhaBanner.jpg')"}},null,-1)),u("ol",it,[(v(!0),k(ye,null,ze(s(y),(l,J)=>(v(),k("li",{key:J,class:"mb-10 ml-6"},[u("span",{class:Re(["absolute flex items-center justify-center w-8 h-8 rounded-full -left-4 ring-3",l.active?"bg-red-500 text-white ring-red-300":"bg-gray-300 text-gray-600 ring-gray-200"])},[(v(),w(qe(l.icon),{class:"w-5 h-5"}))],2),u("h3",ut,B(l.name),1)]))),128))])]),u("div",ct,[u("div",dt,[u("h2",mt,B(s(y)[s(_)].name),1),u("p",ft,B(s(y)[s(_)].details),1)]),u("div",_t,[s(_)===0?(v(),w(Ce,{key:0})):I("",!0),s(_)===1?(v(),w(Oe,{key:1,modelValue:s(t),"onUpdate:modelValue":c[0]||(c[0]=l=>U(t)?t.value=l:null)},null,8,["modelValue"])):I("",!0),s(_)===2?(v(),w(ke,{key:2,familyMembers:s(n),"onUpdate:familyMembers":c[1]||(c[1]=l=>U(n)?n.value=l:null)},null,8,["familyMembers"])):I("",!0),s(_)===3?(v(),w(Ze,{key:3,FormalEducations:s(d),"onUpdate:FormalEducations":c[2]||(c[2]=l=>U(d)?d.value=l:null)},null,8,["FormalEducations"])):I("",!0),s(_)===4?(v(),w(Ve,{key:4,nonFormalEducations:s(p),"onUpdate:nonFormalEducations":c[3]||(c[3]=l=>U(p)?p.value=l:null)},null,8,["nonFormalEducations"])):I("",!0),s(_)===5?(v(),w(xe,{key:5,modelValue:s(i),"onUpdate:modelValue":c[4]||(c[4]=l=>U(i)?i.value=l:null)},null,8,["modelValue"])):I("",!0),s(_)===6?(v(),w(je,{key:6,artsOrCraft:s(f),"onUpdate:artsOrCraft":c[5]||(c[5]=l=>U(f)?f.value=l:null)},null,8,["artsOrCraft"])):I("",!0)]),u("div",vt,[u("button",{onClick:c[6]||(c[6]=(...l)=>s($)&&s($)(...l)),disabled:s(_)===0,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,pt),u("button",{onClick:c[7]||(c[7]=(...l)=>s(M)&&s(M)(...l)),class:"px-4 py-2 bg-red-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed"},B(s(_)===s(y).length-1?"Submit":"Next"),1)])])])],64))}};export{Pt as default};
