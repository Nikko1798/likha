import{W as k,a as h}from"./flowbite-vue-BrsYOMD9.js";import{d as x,m as g,f as y,o as p,u as m,w as n,b as s,e as O,y as _,q as u,z as b,r as f,x as B}from"./app-CRzu6Ufe.js";const M={class:"flex items-center text-lg"},E={class:"flex justify-end space-x-2"},N=x({__name:"Modal",props:{isOpen:Boolean,title:{type:String,default:"Modal Title"},cancelText:{type:String,default:"Cancel"},confirmText:{type:String,default:""},confirmColor:{type:String,default:"green"}},emits:["close","confirm"],setup(o,{emit:r}){const a=r,t=()=>a("close"),c=()=>a("confirm");return(i,l)=>o.isOpen?(p(),g(m(k),{key:0,onClose:t},{header:n(()=>[s("div",M,u(o.title),1)]),body:n(()=>[b(i.$slots,"body")]),footer:n(()=>[s("div",E,[O(m(h),{onClick:t,color:"dark"},{default:n(()=>[_(u(o.cancelText),1)]),_:1}),o.confirmText?(p(),g(m(h),{key:0,onClick:c,gradient:"blue"},{default:n(()=>[_(u(o.confirmText),1)]),_:1})):y("",!0)])]),_:3})):y("",!0)}}),V={class:"modal-content"},$={class:"grid grid-cols-1 sm:grid-cols-12 gap-4"},F={class:"sm:col-span-12"},j=x({__name:"CameraForProduct",props:{isOpen:{type:Boolean},imageSrc:{}},emits:["close","confirm","update:imageSrc"],setup(o,{emit:r}){const a=f(null),t=f(null);f(null);const c=r,i=()=>c("close"),l=o,C=()=>{if(!t.value)return;const e=document.createElement("canvas");e.width=t.value.videoWidth,e.height=t.value.videoHeight;const d=e.getContext("2d");d&&(d.drawImage(t.value,0,0,e.width,e.height),e.toBlob(v=>{if(v){const w=new File([v],"captured-image.png",{type:"image/png"});c("update:imageSrc",w)}else console.error("Failed to convert canvas to blob")},"image/png"),i())},S=async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});t.value&&(t.value.srcObject=e,t.value.style.transform="scaleX(-1)"),a.value=e}catch(e){console.error("Error accessing the camera:",e)}},T=()=>{a.value&&a.value.getTracks().forEach(e=>e.stop())};return B(()=>l.isOpen,e=>{e?S():T()}),(e,d)=>(p(),g(N,{isOpen:l.isOpen,title:"New Item",cancelText:"Close",confirmText:"Save",onClose:i,onConfirm:C},{body:n(()=>[s("div",V,[s("div",$,[s("div",F,[s("video",{ref_key:"videoElement",ref:t,width:"640",height:"480",autoplay:""},null,512)])])])]),_:1},8,["isOpen"]))}});export{j as _};
